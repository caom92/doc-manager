include globals.pug

mz-modal(
  '[options]'='modalOptions'
  '[fixedFooter]'='true'
  '[fullscreen]'='true'
)
  mz-modal-header
    div.container: div.row: div.col.s12
      ='{{ langManager.messages.upload.title }}'
  mz-modal-content
    div.container
      form(
        '[formGroup]'='defaultDocumentUploadForm'
        novalidate
      )
        div.row
          div.col.s12
            +dateInput(
              'document-date', 
              '{{ langManager.messages.upload.docDateLabel }}'
            )(
              formControlName='documentDate'
              mz-validation
              required
              '[errorMessageResource]'='langManager.messages.upload.errors.documentDate'
            )

        div.row
          div.col.s12.m6
            +textInput(
              'analysis-type-name', 
              'langManager.messages.upload.lab.typeNameLabel'
            )(
              formControlName='typeName'
              mz-validation
              required
              '[errorMessageResource]'='langManager.messages.upload.errors.ranch'
              length='255'
              '[autocomplete]'='typeSuggestions'
              '(change)'='onAnalysisTypeSelected($event)'
            )
          div.col.s12.m6
            +textInput(
              'lab-name', 
              'langManager.messages.upload.lab.labNameLabel'
            )(
              formControlName='labName'
              mz-validation
              required
              '[errorMessageResource]'='langManager.messages.upload.errors.ranch'
              length='255'
              '[autocomplete]'='labSuggestions'
              '(change)'='onLabSelected($event)'
            )

        div.row
          div.col.s12.m6.l3
            +textInput(
              'zone',
              'langManager.messages.upload.zoneLabel'
            )(
              '[autocomplete]'='zoneSuggestions'
              '(change)'='onZoneSelected($event)'
              formControlName='zone'
              '[errorMessageResource]'='langManager.messages.upload.errors.zone'
              mz-validation
              required
              length='3'
            )

          div.col.s12.m6.l3
            +textInput(
              'ranch',
              'langManager.messages.upload.ranchLabel'
            )(
              '[autocomplete]'='ranchSuggestions'
              '(change)'='onRanchSelected($event)'
              formControlName='ranch'
              mz-validation
              required
              length='255'
              '[errorMessageResource]'='langManager.messages.upload.errors.ranch'
            )

          div.col.s12.m6.l3
            +textInput(
              'producers',
              'langManager.messages.upload.producerLabel'
            )(
              '(change)'='onProducerSelected($event)'
              '[autocomplete]'='producerSuggestions'
              formControlName='producer'
              mz-validation
              required
              length='255'
              '[errorMessageResource]'='langManager.messages.upload.errors.producer'
            )

          div.col.s12.m6.l3
            +textInput(
              'areas',
              'langManager.messages.upload.areaLabel'
            )(
              '(change)'='onAreaSelected($event)'
              '[autocomplete]'='areaSuggestions'
              formControlName='area'
              mz-validation
              required
              length='255'
              '[errorMessageResource]'='langManager.messages.upload.errors.ranch'
            )

          div.col.s12
            +textArea(
              'notes',
              65535,
              'langManager.messages.upload.notesLabel'
            )(
              formControlName='notes'
              mz-validation
              '[errorMessageResource]'='langManager.messages.upload.errors.notes'
            )
          div.col.s12
            +fileInput(
              'analysis-document',
              '{{ langManager.messages.upload.lab.analysisLabel }}',
              '{{ langManager.messages.upload.fileButtonLabel }}'
            )(
              '(change)'='onAnalysisFileSelected($event)'
            )
  mz-modal-footer
    +button(
      'submit',
      'submit-document',
      '{{ langManager.messages.global.submit }}',
      'mdi mdi-send'
    )(
      '[disabled]'='!defaultDocumentUploadForm.valid || !selectedAnalysisFile'
      '(click)'='onLabDocumentUpload()'
      mz-modal-close
    )